---
import { getRelativeLocaleUrl } from "astro:i18n";
import { contact } from "../../assets/data";
import { getI18N } from "../../i18n";
import Picker from "./Picker.astro";

const { currentLocale, url } = Astro;

const currentPath = url.pathname;

const lang: string = currentLocale!;
const i18n = getI18N(lang);
---

<footer
  class="px-6 py-16 grid grid-cols-2 list-none bg-neutral-100 dark:bg-neutral-950 md:grid-cols-3 xl:px-8 xl:grid-cols-4"
>
  <!-- TOP SIDE -->
  <div class="col-span-2 mb-8 md:col-span-3 xl:col-span-1">
    <h2 class="font-semibold mb-1">Nacho.dev</h2>
    <h3 class="text-neutral-500 text-sm mb-8 dark:text-neutral-400">
      {i18n?.text.FOOTER_H3}
    </h3>
    <Picker />
  </div>
  <div class="xl:mx-auto">
    <h4 class="font-semibold mb-4">{i18n?.text.FOOTER_PAGES_H4}</h4>
    <ul class="text-neutral-400 text-sm space-y-2 dark:text-neutral-600">
      <li>
        <a
          href={getRelativeLocaleUrl(lang, "/")}
          class:list={[
            "transition-colors cursor-pointer",
            {
              "text-neutral-500 dark:text-neutral-400":
                currentPath === `/en/` || currentPath === "/",
              "hover:text-neutral-500 dark:hover:text-neutral-400":
                currentPath !== "/",
            },
          ]}
        >
          {
            currentPath === `/en/` || currentPath === "/"
              ? `/ ${i18n?.text.NAV_LINK_1}`
              : i18n?.text.NAV_LINK_1
          }
        </a>
      </li>
      <li>
        <a
          href={getRelativeLocaleUrl(lang, "/about")}
          class:list={[
            "transition-colors cursor-pointer",
            {
              "text-neutral-500 dark:text-neutral-400":
                currentPath === `/en/about` || currentPath === "/about",
              "hover:text-neutral-500 dark:hover:text-neutral-400":
                currentPath !== "/about",
            },
          ]}
        >
          {
            currentPath === `/en/about` || currentPath === "/about"
              ? `/ ${i18n?.text.NAV_LINK_2}`
              : i18n?.text.NAV_LINK_2
          }
        </a>
      </li>
      <li>
        <a
          href={getRelativeLocaleUrl(lang, "/experience")}
          class:list={[
            "transition-colors cursor-pointer",
            {
              "text-neutral-500 dark:text-neutral-400":
                currentPath === `/en/experience` ||
                currentPath === "/experience",
              "hover:text-neutral-500 dark:hover:text-neutral-400":
                currentPath !== "/experience",
            },
          ]}
        >
          {
            currentPath === `/en/experience` || currentPath === "/experience"
              ? `/ ${i18n?.text.NAV_LINK_3}`
              : i18n?.text.NAV_LINK_3
          }
        </a>
      </li>
    </ul>
  </div>
  <div class="xl:mx-auto">
    <h4 class="font-semibold mb-4">{i18n?.text.FOOTER_CONNECT_H4}</h4>
    <ul class="text-neutral-400 text-sm space-y-2 dark:text-neutral-600">
      {
        contact.map((link) => (
          <li>
            <a
              href={link.href}
              class="transition-colors cursor-alias hover:text-neutral-500 dark:hover:text-neutral-400"
            >
              {link.title}
            </a>
          </li>
        ))
      }
    </ul>
  </div>
  <div
    class="col-span-2 text-neutral-400 text-xs mt-16 dark:text-neutral-600 md:col-span-1 md:mt-0 xl:text-end"
  >
    <span>{i18n?.text.FOOTER_THEME_SPAN}</span>
  </div>
  <div
    class="col-span-2 w-full h-0.5 my-8 border-b border-dashed border-neutral-200 dark:border-neutral-900 md:col-span-3 xl:col-span-4 2xl:my-16"
  >
  </div>
  <div
    class="col-span-2 text-neutral-400 text-xs flex flex-col justify-between gap-2 dark:text-neutral-600 md:col-span-3 md:text-end md:flex-row md:items-center xl:col-span-4"
  >
    <span>{i18n?.text.FOOTER_MADEWITH_SPAN}</span>
    <span>Copyright Nacho.dev 2024 Â©</span>
  </div>
</footer>
